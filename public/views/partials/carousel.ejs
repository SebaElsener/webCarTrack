
<% if (!images || images.length === 0) { %>
  <div class="alert alert-info">No hay imÃ¡genes para mostrar.</div>
<% } else { %>
  <div id="<%= id %>" class="carousel slide" data-bs-ride="carousel">

    <!-- Indicadores -->
    <div class="carousel-indicators">
      <% images.forEach((img, idx) => { %>
        <button type="button"
          data-bs-target="#<%= id %>"
          data-bs-slide-to="<%= idx %>"
          class="<%= idx === 0 ? 'active' : '' %>"
          aria-current="<%= idx === 0 ? 'true' : 'false' %>"
          aria-label="Slide <%= idx + 1 %>">
        </button>
      <% }) %>
    </div>

    <!-- Slides -->
    <div class="carousel-inner">
      <% images.forEach((img, idx) => { %>
        <div class="carousel-item <%= idx === 0 ? 'active' : '' %>">
          <img src="<%= img %>" class="d-block w-100" alt="imagen_carousel" 
               loading="lazy" style="max-height: 500px; object-fit: cover;">

          <% if (img.captionTitle || img.captionText) { %>
            <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
              <% if (img.captionTitle) { %>
                <h5><%= img.captionTitle %></h5>
              <% } %>
              <% if (img.captionText) { %>
                <p><%= img.captionText %></p>
              <% } %>
            </div>
          <% } %>
        </div>
      <% }) %>
    </div>

    <!-- Controles -->
    <button class="carousel-control-prev" type="button" data-bs-target="#<%= id %>" data-bs-slide="prev">
      <span class="carousel-control-prev-icon"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#<%= id %>" data-bs-slide="next">
      <span class="carousel-control-next-icon"></span>
      <span class="visually-hidden">Siguiente</span>
    </button>

  </div>
<% } %>